{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/dealswindfall/nextjs-boilerplate/lib/supabaseAdmin.ts"],"sourcesContent":["import { createClient } from \"@supabase/supabase-js\";\r\n\r\nexport const supabaseAdmin = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!, // server-only\r\n  { auth: { persistSession: false } }\r\n);\r\n"],"names":[],"mappings":";;;;AAAA;;AAEO,MAAM,gBAAgB,IAAA,yMAAY,gFAEvC,QAAQ,GAAG,CAAC,yBAAyB,EACrC;IAAE,MAAM;QAAE,gBAAgB;IAAM;AAAE","debugId":null}},
    {"offset": {"line": 61, "column": 0}, "map": {"version":3,"sources":["file:///C:/Projects/dealswindfall/nextjs-boilerplate/app/api/deals/route.ts"],"sourcesContent":["import { NextResponse } from \"next/server\";\r\nimport OpenAI from \"openai\";\r\nimport { createClient } from \"@supabase/supabase-js\";\r\nimport { supabaseAdmin } from \"@/lib/supabaseAdmin\";\r\n\r\n/* -------------------------------------------------------------\r\n   OPENAI (try OPENAI_API_KEY, fallback CHATGPT_API_KEY)\r\n------------------------------------------------------------- */\r\nconst openaiApiKey =\r\n  process.env.OPENAI_API_KEY || process.env.CHATGPT_API_KEY || \"\";\r\n\r\nconst hasOpenAIKey = !!openaiApiKey;\r\n\r\nconst openai = new OpenAI({\r\n  apiKey: openaiApiKey || \"dummy\", // won't be used if hasOpenAIKey = false\r\n});\r\n\r\n/* -------------------------------------------------------------\r\n   Supabase Clients\r\n------------------------------------------------------------- */\r\nconst supabase = createClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.SUPABASE_SERVICE_ROLE_KEY!,\r\n  { auth: { persistSession: false } }\r\n);\r\n\r\n/* -------------------------------------------------------------\r\n   Helper: Slugify\r\n------------------------------------------------------------- */\r\nfunction slugify(text: string) {\r\n  return text\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, \"-\")\r\n    .replace(/^-+|-+$/g, \"\")\r\n    .substring(0, 120);\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   Helper: Extract URLs from notes\r\n------------------------------------------------------------- */\r\nfunction extractUrls(text: string) {\r\n  return text?.match(/https?:\\/\\/[^\\s]+/g) || [];\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   Helper: Get Page Title from URL\r\n------------------------------------------------------------- */\r\nfunction getBaseUrl() {\r\n  return (\r\n    process.env.NEXT_PUBLIC_SITE_URL ||\r\n    process.env.NEXT_PUBLIC_VERCEL_URL ||\r\n    \"http://localhost:3000\"\r\n  );\r\n}\r\n\r\nasync function getTitle(url: string) {\r\n  try {\r\n    const base = getBaseUrl();\r\n    const res = await fetch(`${base}/api/fetch-title`, {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ url }),\r\n    });\r\n\r\n    if (!res.ok) return null;\r\n    const data = await res.json();\r\n    return data.title || null;\r\n  } catch (err) {\r\n    console.error(\"❌ getTitle failed:\", err);\r\n    return null;\r\n  }\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   Helper: Deal level & discount\r\n------------------------------------------------------------- */\r\nfunction computeDealMetrics(oldPrice: number, currentPrice: number) {\r\n  if (!oldPrice || !currentPrice || oldPrice <= 0 || currentPrice <= 0) {\r\n    return { price_diff: null, percent_diff: null, deal_level: null };\r\n  }\r\n\r\n  const priceDiff = oldPrice - currentPrice;\r\n  const percentDiff = Number(((priceDiff / oldPrice) * 100).toFixed(2));\r\n\r\n  let dealLevel = \"\";\r\n  if (percentDiff >= 40 && percentDiff < 51) dealLevel = \"Blistering deal\";\r\n  else if (percentDiff >= 51 && percentDiff < 61) dealLevel = \"Scorching deal\";\r\n  else if (percentDiff >= 61 && percentDiff < 71) dealLevel = \"Searing deal\";\r\n  else if (percentDiff >= 71) dealLevel = \"Flaming deal\";\r\n\r\n  return {\r\n    price_diff: priceDiff,\r\n    percent_diff: percentDiff,\r\n    deal_level: dealLevel || null,\r\n  };\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   POST → Create a NEW deal (with AI ES if needed)\r\n------------------------------------------------------------- */\r\nexport async function POST(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n\r\n    const {\r\n      description, // EN title\r\n      notes,       // EN description\r\n      description_es, // optional ES title\r\n      notes_es,       // optional ES description\r\n      category,\r\n      storeName,\r\n      currentPrice,\r\n      oldPrice,\r\n      shippingCost,\r\n      couponCode,\r\n      holidayTag,\r\n      productLink,\r\n      reviewLink,\r\n      imageLink,\r\n      expireDate,\r\n    } = body;\r\n\r\n    if (!description || description.trim() === \"\") {\r\n      return NextResponse.json(\r\n        { error: \"Missing English title.\" },\r\n        { status: 400 }\r\n      );\r\n    }\r\n\r\n    /* -------------------------------------------------------\r\n       AI GENERATION — ONLY IF Spanish not provided\r\n    ------------------------------------------------------- */\r\n    let finalTitleEs = description_es || \"\";\r\n    let finalNotesEs = notes_es || \"\";\r\n\r\n    if (hasOpenAIKey && (!finalTitleEs || !finalNotesEs)) {\r\n      const productText = `\r\nEnglish Title: ${description}\r\nEnglish Description: ${notes || \"\"}\r\nCategory: ${category || \"\"}\r\nStore: ${storeName || \"\"}\r\nPrice: ${currentPrice} (old: ${oldPrice})\r\nShipping: ${shippingCost || \"\"}\r\nCoupon: ${couponCode || \"\"}\r\nHoliday/Event: ${holidayTag || \"\"}\r\nProduct Link: ${productLink || \"\"}\r\n`;\r\n\r\n      try {\r\n        const ai = await openai.responses.create({\r\n          model: process.env.OPENAI_MODEL || \"gpt-4.1-mini\",\r\n          input: `\r\nTranslate and rewrite the following product into professional Spanish SEO content.\r\nReturn ONLY this JSON:\r\n\r\n{\r\n  \"title_es\": \"\",\r\n  \"description_es\": \"\"\r\n}\r\n\r\n${productText}\r\n          `,\r\n        });\r\n\r\n        const raw = (ai as any).output_text || \"\";\r\n        const cleaned = raw\r\n          .replace(/```json/gi, \"\")\r\n          .replace(/```/g, \"\")\r\n          .trim();\r\n\r\n        const parsed = JSON.parse(cleaned);\r\n        finalTitleEs = parsed.title_es || description;\r\n        finalNotesEs = parsed.description_es || notes || \"\";\r\n      } catch (err) {\r\n        console.error(\"AI ES generation failed, falling back:\", err);\r\n        // fallback: copy EN into ES fields\r\n        finalTitleEs = description;\r\n        finalNotesEs = notes || \"\";\r\n      }\r\n    } else {\r\n      // if no key or Spanish already provided, just use what we have / copy EN\r\n      if (!finalTitleEs) finalTitleEs = description;\r\n      if (!finalNotesEs) finalNotesEs = notes || \"\";\r\n    }\r\n\r\n    /* -------------------------------------------------------\r\n       Compute deal metrics\r\n    ------------------------------------------------------- */\r\n    const oldNum = oldPrice ? Number(oldPrice) : 0;\r\n    const currNum = currentPrice ? Number(currentPrice) : 0;\r\n    const metrics = computeDealMetrics(oldNum, currNum);\r\n\r\n    /* -------------------------------------------------------\r\n       Create SLUGS\r\n    ------------------------------------------------------- */\r\n    const slug = slugify(description);\r\n    const slug_es = slugify(finalTitleEs);\r\n\r\n    /* -------------------------------------------------------\r\n       Prepare FINAL payload (snake_case)\r\n    ------------------------------------------------------- */\r\n    const payload: any = {\r\n      description,\r\n      notes: notes || \"\",\r\n      description_es: finalTitleEs,\r\n      notes_es: finalNotesEs,\r\n\r\n      current_price: currentPrice ? Number(currentPrice) : null,\r\n      old_price: oldPrice ? Number(oldPrice) : null,\r\n      store_name: storeName || null,\r\n      image_link: imageLink || null,\r\n      product_link: productLink || null,\r\n      review_link: reviewLink || null,\r\n      coupon_code: couponCode || null,\r\n      shipping_cost: shippingCost || null,\r\n      expire_date: expireDate || null,\r\n      category: category || null,\r\n      holiday_tag: holidayTag || null,\r\n\r\n      slug,\r\n      slug_es,\r\n      published_at: new Date().toISOString(),\r\n\r\n      price_diff: metrics.price_diff,\r\n      percent_diff: metrics.percent_diff,\r\n      deal_level: metrics.deal_level,\r\n    };\r\n\r\n    /* -------------------------------------------------------\r\n       Insert DEAL\r\n    ------------------------------------------------------- */\r\n    const { data: deal, error } = await supabase\r\n      .from(\"deals\")\r\n      .insert(payload)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n\r\n    /* -------------------------------------------------------\r\n       Extract URLs from notes → related links\r\n    ------------------------------------------------------- */\r\n    const urls = extractUrls(notes || \"\");\r\n    if (urls.length > 0) {\r\n      const titleResults = await Promise.all(urls.map((u) => getTitle(u)));\r\n      const rows = urls.map((url, i) => ({\r\n        deal_id: deal.id,\r\n        url,\r\n        title: titleResults[i] || null,\r\n      }));\r\n\r\n      await supabaseAdmin.from(\"deal_related_links\").insert(rows);\r\n    }\r\n\r\n    return NextResponse.json(deal, { status: 200 });\r\n  } catch (err: any) {\r\n    console.error(\"DEALS POST error:\", err);\r\n    return NextResponse.json(\r\n      { error: err.message || \"Unknown error\" },\r\n      { status: 500 }\r\n    );\r\n  }\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   GET → Fetch ALL deals\r\n------------------------------------------------------------- */\r\nexport async function GET() {\r\n  try {\r\n    const { data, error } = await supabaseAdmin\r\n      .from(\"deals\")\r\n      .select(\"*\")\r\n      .order(\"published_at\", { ascending: false });\r\n\r\n    if (error) throw error;\r\n    return NextResponse.json(data, { status: 200 });\r\n  } catch (err: any) {\r\n    console.error(\"GET /deals error:\", err);\r\n    return NextResponse.json({ error: err.message }, { status: 500 });\r\n  }\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   PUT → Update existing deal (handle snake + camel)\r\n------------------------------------------------------------- */\r\nexport async function PUT(req: Request) {\r\n  try {\r\n    const body = await req.json();\r\n    const { id, ...updateFields } = body;\r\n\r\n    if (!id) throw new Error(\"Missing deal ID.\");\r\n\r\n    // Map possible camelCase to snake_case if they come in that way\r\n    if (\"currentPrice\" in updateFields) {\r\n      (updateFields as any).current_price = Number(updateFields.currentPrice);\r\n      delete (updateFields as any).currentPrice;\r\n    }\r\n    if (\"oldPrice\" in updateFields) {\r\n      (updateFields as any).old_price = Number(updateFields.oldPrice);\r\n      delete (updateFields as any).oldPrice;\r\n    }\r\n    if (\"storeName\" in updateFields) {\r\n      (updateFields as any).store_name = updateFields.storeName;\r\n      delete (updateFields as any).storeName;\r\n    }\r\n    if (\"imageLink\" in updateFields) {\r\n      (updateFields as any).image_link = updateFields.imageLink;\r\n      delete (updateFields as any).imageLink;\r\n    }\r\n    if (\"productLink\" in updateFields) {\r\n      (updateFields as any).product_link = updateFields.productLink;\r\n      delete (updateFields as any).productLink;\r\n    }\r\n    if (\"reviewLink\" in updateFields) {\r\n      (updateFields as any).review_link = updateFields.reviewLink;\r\n      delete (updateFields as any).reviewLink;\r\n    }\r\n    if (\"couponCode\" in updateFields) {\r\n      (updateFields as any).coupon_code = updateFields.couponCode;\r\n      delete (updateFields as any).couponCode;\r\n    }\r\n    if (\"shippingCost\" in updateFields) {\r\n      (updateFields as any).shipping_cost = updateFields.shippingCost;\r\n      delete (updateFields as any).shippingCost;\r\n    }\r\n    if (\"expireDate\" in updateFields) {\r\n      (updateFields as any).expire_date = updateFields.expireDate;\r\n      delete (updateFields as any).expireDate;\r\n    }\r\n    if (\"holidayTag\" in updateFields) {\r\n      (updateFields as any).holiday_tag = updateFields.holidayTag;\r\n      delete (updateFields as any).holidayTag;\r\n    }\r\n\r\n    // Recalculate discount if prices present\r\n    const oldP = parseFloat(\r\n      (updateFields as any).old_price ?? body.old_price ?? 0\r\n    );\r\n    const currP = parseFloat(\r\n      (updateFields as any).current_price ?? body.current_price ?? 0\r\n    );\r\n\r\n    if (!isNaN(oldP) && !isNaN(currP) && oldP > 0 && currP > 0) {\r\n      const metrics = computeDealMetrics(oldP, currP);\r\n      (updateFields as any).price_diff = metrics.price_diff;\r\n      (updateFields as any).percent_diff = metrics.percent_diff;\r\n      (updateFields as any).deal_level = metrics.deal_level;\r\n    }\r\n\r\n    const { data, error } = await supabaseAdmin\r\n      .from(\"deals\")\r\n      .update(updateFields)\r\n      .eq(\"id\", id)\r\n      .select()\r\n      .single();\r\n\r\n    if (error) throw error;\r\n    return NextResponse.json({ ok: true, updated: data });\r\n  } catch (err: any) {\r\n    console.error(\"PUT /deals error:\", err);\r\n    return NextResponse.json({ error: err.message }, { status: 500 });\r\n  }\r\n}\r\n\r\n/* -------------------------------------------------------------\r\n   DELETE → Delete existing deal\r\n------------------------------------------------------------- */\r\nexport async function DELETE(req: Request) {\r\n  try {\r\n    const { id } = await req.json();\r\n    if (!id) throw new Error(\"Missing deal ID\");\r\n\r\n    // Delete related links\r\n    await supabaseAdmin.from(\"deal_related_links\").delete().eq(\"deal_id\", id);\r\n\r\n    // Delete main deal\r\n    await supabaseAdmin.from(\"deals\").delete().eq(\"id\", id);\r\n\r\n    return NextResponse.json({ ok: true, message: \"Deal deleted\" });\r\n  } catch (err: any) {\r\n    console.error(\"DELETE /deals error:\", err);\r\n    return NextResponse.json({ error: err.message }, { status: 500 });\r\n  }\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}